<div class="container-provider">
  <h1 class="title">
    Crear nuevo proveedor
  </h1>
  <div class="card p-3 col-12">
    <h2 class="m-0 p-0">
      Datos personales
    </h2>
    <mat-divider class="my-3"></mat-divider>
    <form (ngSubmit)="registerProvider()" autocomplete="off" [formGroup]="providerForm">
      <div class="d-flex w-full col-12">
        <div class="px-2 col-4">
          <label>No. proveedor</label>
          <mat-form-field class="w-100" appearance="outline">
            <input matInput formControlName="key_provider" placeholder="Ingresa el # proveedor" />
            <mat-error *ngIf="providerForm.controls['key_provider'].hasError('required')">
              Campo requerido
            </mat-error>
          </mat-form-field>
        </div>
        <div class="px-2 col-8">
          <label>Nombre proveedor</label>
          <mat-form-field class="w-100" appearance="outline">
            <input matInput formControlName="name" placeholder="Ingresa el nombre del proveedor" />
            <mat-error *ngIf="this.providerForm.controls['name'].hasError('required')">
              Campo requerido
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="d-flex col-12 my-3">
        <div class="px-2 col-4">
          <label>NIT</label>
          <mat-form-field class="w-100" appearance="outline">
            <input matInput formControlName="nit" placeholder="Ingresa el nit" />
            <mat-error *ngIf="this.providerForm.controls['nit'].hasError('required')">
              Campo requerido
            </mat-error>
          </mat-form-field>
        </div>
        <div class="px-2 col-4">
          <label>Condiciones de pago</label>
          <mat-form-field class="w-100" appearance="outline">
            <mat-select required formControlName="payment_conditions" placeholder="Selecciona una condicion de pago">
              <mat-option *ngFor="let item of payment_conditions" [value]="item._id">{{item.name_payment}}</mat-option>
            </mat-select>
            <mat-error *ngIf="providerForm.controls['payment_conditions'].hasError('required')">
              Campo requerido
            </mat-error>
          </mat-form-field>
        </div>
        <div class="px-2 col-4">
          <label>Tipo de tercero</label>
          <mat-form-field class="w-100" appearance="outline">
            <mat-select required formControlName="third_type" placeholder="Selecciona un tipo de tercero">
              <mat-option *ngFor="let item of third_types_array" [value]="item.name">{{item.name}}</mat-option>
            </mat-select>
            <mat-error *ngIf="providerForm.controls['third_type'].hasError('required')">
              Campo requerido
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="d-flex col-12">
        <div class="px-2 col-4">
          <label>Tipo de sociedad</label>
          <mat-form-field class="w-100" appearance="outline">
            <mat-select required formControlName="society_type" placeholder="Selecciona un tipo de sociedad">
              <mat-option *ngFor="let item of society_types_array" [value]="item.name">{{item.name}}</mat-option>
            </mat-select>
            <mat-error *ngIf="providerForm.controls['society_type'].hasError('required')">
              Campo requerido
            </mat-error>
          </mat-form-field>
        </div>
        <div class="px-2 col-4">
          <label>Tipo de proveedor</label>
          <mat-form-field class="w-100" appearance="outline">
            <mat-select required formControlName="provider_type" placeholder="Selecciona un tipo de proveedor">
              <mat-option *ngFor="let item of provider_array" [value]="item.name">{{item.name}}</mat-option>
            </mat-select>
            <mat-error *ngIf="providerForm.controls['provider_type'].hasError('required')">
              Campo requerido
            </mat-error>
          </mat-form-field>
        </div>
        <div class="px-2 col-4">
          <label>Telefono local</label>
          <mat-form-field class="w-100" appearance="outline">
            <input matInput formControlName="phone_number" placeholder="Ingresa un # telefono local" />
            <mat-error *ngIf="providerForm.controls['phone_number'].hasError('required')">
              Campo requerido
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="d-flex col-12 my-3">
        <div class="px-2 col-4">
          <label>Telefono movil</label>
          <mat-form-field class="w-100" appearance="outline">
            <input matInput formControlName="mobile_number" placeholder="Ingresa un # telefono movil" />
            <mat-error *ngIf="providerForm.controls['mobile_number'].hasError('required')">
              Campo requerido
            </mat-error>
          </mat-form-field>
        </div>
        <div class="px-2 col-4">
          <label>Email</label>
          <mat-form-field class="w-100" appearance="outline">
            <input matInput formControlName="email" placeholder="Ingresa un email" />
            <mat-error *ngIf="providerForm.controls['email'].hasError('required')">
              Campo requerido
            </mat-error>
            <mat-error *ngIf="providerForm.controls['email'].hasError('email')">
              Email invalido
            </mat-error>
          </mat-form-field>
        </div>
      </div>

      <div class="d-flex flex-row-reverse">
        <button class="btn-save" mat-button>Crear Proveedor</button>
        <button class="mx-3" mat-button mat-stroked-button color="warn" routerLink="/providers">Cancelar</button>
      </div>
    </form>
  </div>
</div>