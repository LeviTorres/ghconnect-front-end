<button  class="btn-primary" mat-raised-button [routerLink]="['/volumes']">
  <span>Volver</span>
</button>
<div class="pt-4" >
  <h2>Detalle volumen</h2>
</div>
<div *ngIf="volumeData">
  <div class="row">
    <div class="col-3">
      <strong>Insumo</strong>
      <h3>{{volumeData.insumo}}</h3>
    </div>
    <div class="col-3">
      <strong>Frente</strong>
      <h3>{{volumeData.front}}</h3>
    </div>
    <div class="col-3">
      <strong>Tarjeta</strong>
      <h3>{{volumeData.card}}</h3>
    </div>
  </div>
  <div class="row">
    <div class="col-3">
      <strong>Volumen proyecto</strong>
      <h3>{{volumeData.project_volume}}</h3>
    </div>
    <div class="col-3">
      <strong>Descripcion</strong>
      <h3>{{volumeData.description}}</h3>
    </div>
    <div class="col-3">
      <strong>Unidad de medida</strong>
      <h3>{{volumeData.measure}}</h3>
    </div>
  </div>
</div>
<div class="table-responsive mt-4">
  <table class="table text-nowrap">
    <thead>
      <tr>
        <th>
          Fecha de creacion
        </th>
        <th>
          Tipo volumen
        </th>
        <th>
          ADD/DED
        </th>
        <th>
          Unidades compradas
        </th>
        <th>
          Pendiente por comprar
        </th>
        <th>
          Precio proforma
        </th>
        <th>
          Usuario
        </th>
        <th class="last" >
          Acciones
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let volume of volumes | paginate: { itemsPerPage: selectedValue, currentPage: page };
      index as i">
        <td>
          <span>{{volume.createdAt | date: 'dd/MMM/yyyy'}}</span>
        </td>
        <td>
          <span *ngIf="volume.type === 'initial'">Inicial</span>
          <span *ngIf="volume.type === 'plus'">Aumento</span>
          <span *ngIf="volume.type === 'minus'">Restar</span>
        </td>
        <td>
          <span *ngIf="volume.type === 'initial'">{{volume.project_volume}}</span>
          <span *ngIf="volume.type === 'plus'"> + {{ volume.project_volume}}</span>
          <span *ngIf="volume.type === 'minus'"> - {{volume.project_volume}}</span>
        </td>
        <td>
          <span>{{volume.units_purchased }}</span>
        </td>
        <td>
          <span>{{ getPendingBuy(i) }}</span>
        </td>
        <td>
          <span>{{volume.price_proforma | currency }}</span>
        </td>
        <td>
          <span>{{volume.user?.name}} {{volume.user?.last_name}}</span>
        </td>
        <td class="last">
          <i class="fa fa-trash" (click)="delete(volume)"></i>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div class="col-12 d-flex flex-row-reverse">
<pagination-controls class="mt-3" (pageChange)="page = $event" previousLabel="Anterior" nextLabel="Siguiente"
  [responsive]="true"></pagination-controls>
</div>
